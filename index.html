<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Printable3D Studio</title>
  <style>
    :root{
      --bg: #0f172a;
      --glass: rgba(255,255,255,0.06);
      --accent: #64ffda;
      --maxWidth: 1100px;
    }
    *{box-sizing: border-box}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:#fff}
    a{color:var(--accent)}

    .hero{position:relative;min-height:100vh;overflow:hidden;display:flex;align-items:center;justify-content:center;text-align:center}
    .hero video{position:absolute;top:50%;left:50%;width:auto;height:100%;min-width:100%;min-height:100%;transform:translate(-50%,-50%);object-fit:cover;z-index:0;filter:brightness(.55)}
    .hero .content{position:relative; z-index:2; padding:2rem; max-width:var(--maxWidth); backdrop-filter: blur(2px);}

    /* --- 3D-print reveal (simultaneous, no letter movement) --- */
    .hero h1 {
      font-size: clamp(28px, 5vw, 56px);
      margin: 0 0 .5rem;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 6px;
      position: relative;
      line-height: 1;
    }

    /* Each letter is static in position; an overlay (the ::after) hides it and is animated
       from height:100% -> 0% using a stepped timing-function to simulate layers. */
    .hero h1 span {
      display: inline-block;
      color: var(--accent);
      position: relative;
      z-index: 1; /* letters are below the overlay */
    }

    .hero h1 span::after{
      content: '';
      position: absolute;
      left: 0; right: 0; bottom: 0;
      height: 100%;
      background: var(--bg); /* same as page background so it "masks" the letter */
      z-index: 3; /* sits above letters */
      /* steps() creates the layered look; increase steps for more layers */
      animation: revealLayers 2s steps(12,end) forwards;
    }

    /* All letters animate simultaneously (no nth-child delays) */
    @keyframes revealLayers{
      from { height: 100%; }
      to   { height: 0%; }
    }

    /* Nozzle (printhead) — visually sits above the letters while they reveal.
       It sweeps once across the heading in the same duration as the reveal. */
    .nozzle{
      position: absolute;
      top: -12px;
      left: 0;
      width: 22px;
      height: 12px;
      border-radius: 3px;
      background: linear-gradient(180deg, #9fffe0, var(--accent));
      box-shadow: 0 0 12px rgba(100,255,218,0.15), inset 0 -3px rgba(0,0,0,0.12);
      z-index: 4;
      animation: nozzleSweep 2s linear forwards;
    }

    @keyframes nozzleSweep{
      from { transform: translateX(-110%); }
      to   { transform: translateX(110%); }
    }

    .hero p{margin:0 0 1.5rem; opacity:.9}

    .feature-video{min-height:100vh;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;background:#000}
    .feature-video video{width:100%; height:100%; object-fit:cover}
    .order-section{padding:4rem 1rem; display:flex; justify-content:center; background:linear-gradient(180deg, rgba(0,0,0,0.3), rgba(0,0,0,0.6));}
    .order-card{width:100%; max-width:840px; background:rgba(255,255,255,0.03); padding:2rem; border-radius:12px; box-shadow:0 6px 30px rgba(0,0,0,0.6)}
    .order-card h2{margin-top:0}
    .field{display:flex; gap:12px; margin-bottom:12px}
    .field input, .field textarea, .field select{flex:1; padding:.8rem; border-radius:8px; border:1px solid rgba(255,255,255,0.08); background:transparent; color:inherit}
    .grid-2{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    .btn{display:inline-block; background:var(--accent); color:#001; border-radius:999px; padding:.8rem 1.1rem; font-weight:600; border:none; cursor:pointer}
    #formMessage{margin-top:12px; padding:10px; border-radius:8px; display:none}
    @media (max-width:700px){.grid-2{grid-template-columns:1fr}.hero{align-items:flex-end;padding-bottom:6rem}}
  </style>
</head>
<body>
  <!-- HERO SECTION -->
  <section class="hero" id="hero">
    <video id="heroVideo" autoplay muted loop playsinline poster="assets/hero-poster.jpg">
      <source src="assets/hero.mp4" type="video/mp4">
      Sorry — your browser does not support embedded videos.
    </video>

    <div class="content">
      <h1 class="printer-text" aria-hidden="false">
        <!-- each letter stays in place; the mask (::after) above them is what "prints" bottom-up -->
        <span>P</span><span>r</span><span>i</span><span>n</span><span>t</span><span>a</span><span>b</span><span>l</span><span>e</span>
        <span>3</span><span>D</span>
        <span>S</span><span>t</span><span>u</span><span>d</span><span>i</span><span>o</span>
        <div class="nozzle" aria-hidden="true"></div>
      </h1>
      <p><a href="#order">Go to order form</a></p>
    </div>
  </section>

  <!-- FEATURE VIDEO -->
  <section class="feature-video" id="featureVideoSection">
    <video id="featureVideo" muted loop playsinline>
      <source src="assets/feature.mp4" type="video/mp4">
      Your browser does not support the feature video.
    </video>
  </section>

  <!-- ORDER / QUESTIONNAIRE FORM -->
  <section class="order-section" id="order">
    <div class="order-card">
      <h2>How can we help?</h2>
      <form id="orderForm" action="https://formspree.io/f/mjkepnav" method="POST">
        <div class="grid-2">
          <div class="field"><input name="name" type="text" placeholder="Full name" required></div>
          <div class="field"><input name="email" type="email" placeholder="Email address" required></div>
        </div>
        <div class="grid-2">
          <div class="field"><input name="phone" type="tel" placeholder="Phone (optional)"></div>
          <div class="field"><input name="company" type="text" placeholder="Company (optional)"></div>
        </div>
        <div class="field"><input name="address" type="text" placeholder="Address" required></div>
        <div class="field"><input name="project" type="text" placeholder="What are you looking to make?" required></div>
        <div class="field"><textarea name="details" rows="5" placeholder="Order Details (Measurements, Quantity, Color, etc)" required></textarea></div>
        <input type="hidden" name="_source" value="starter-site">
        <div style="display:flex; gap:12px; align-items:center">
          <button class="btn" type="submit">Submit order</button>
          <div id="formMessage" aria-live="polite"></div>
        </div>
      </form>
    </div>
  </section>

  <script>
    const orderForm = document.getElementById('orderForm');
    const formMessage = document.getElementById('formMessage');
    orderForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      formMessage.style.display = 'none';
      const formData = new FormData(orderForm);
      try {
        const resp = await fetch(orderForm.action, { method: 'POST', body: formData, headers: { 'Accept': 'application/json' }});
        if (resp.ok) {
          formMessage.style.display = 'block';
          formMessage.style.background = 'linear-gradient(90deg, rgba(100,255,218,0.12), rgba(100,255,218,0.06))';
          formMessage.style.color = '#bfffe9';
          formMessage.textContent = 'Thanks — your form was submitted successfully.';
          orderForm.reset();
        } else {
          throw new Error('Submission failed');
        }
      } catch (err) {
        formMessage.style.display = 'block';
        formMessage.style.background = 'linear-gradient(90deg, rgba(255,150,150,0.08), rgba(255,150,150,0.04))';
        formMessage.style.color = '#ffd4d4';
        formMessage.textContent = 'Error submitting form — please check the console and your form endpoint.';
        console.error('Form submission error:', err);
      }
    });
  </script>
</body>
</html>
